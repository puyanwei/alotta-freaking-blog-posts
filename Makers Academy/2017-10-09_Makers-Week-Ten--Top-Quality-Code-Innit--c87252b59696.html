<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Makers Week Ten: Top Quality Code Innit!</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Makers Week Ten: Top Quality Code Innit!</h1>
</header>
<section data-field="subtitle" class="p-summary">
This post might be a bit more technical then my usual, but I will try and explain things as layman’s as possible. Also to the current or…
</section>
<section data-field="body" class="e-content">
<section name="f132" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="a6a7" id="a6a7" class="graf graf--h3 graf--leading graf--title">Makers Week Ten: Top Quality Code Innit!</h3><p name="ad5a" id="ad5a" class="graf graf--p graf-after--h3">This post might be a bit more technical then my usual, but I will try and explain things as layman’s as possible. Also to the current or potential Makers this might need a spoiler alert, but don’t worry in true Makers style I wont give you guys the answer lol.</p><h3 name="7dc3" id="7dc3" class="graf graf--h3 graf-after--p">BANK PROGRAM EZ? NOT SO FAST…</h3><p name="7427" id="7427" class="graf graf--p graf-after--h3">This was the task we were given to do. Once our coach approved our code, we moved onto the next one;</p><figure name="3090" id="3090" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 320px; max-height: 181px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.599999999999994%;"></div><img class="graf-image" data-image-id="0*RVk5Rv-SpcCTsNRb.png" data-width="320" data-height="181" src="https://cdn-images-1.medium.com/max/800/0*RVk5Rv-SpcCTsNRb.png"></div></figure><p name="45ab" id="45ab" class="graf graf--p graf-after--figure">You can go to your terminal in a mac, gem install ruby, type in irb and copy and paste this code in if you feel like checking it out…</p><p name="23e1" id="23e1" class="graf graf--p graf-after--p">Ok, lets have a go;</p><pre name="52be" id="52be" class="graf graf--pre graf-after--p">class Bank</pre><pre name="f931" id="f931" class="graf graf--pre graf-after--pre">  def initialize<br>    @transaction_history = []<br>    @balance = 0<br>  end</pre><pre name="b2df" id="b2df" class="graf graf--pre graf-after--pre">  def deposit(date, credit)<br>    @balance += credit<br>    transaction = Transaction.new(date, credit, 0, @balance)<br>    @transaction_history.unshift(transaction)<br>  end</pre><pre name="632c" id="632c" class="graf graf--pre graf-after--pre">  def withdrawal(date, debit)<br>    @balance -= debit<br>    transaction = Transaction.new(date, 0, debit, @balance)<br>    @transaction_history.unshift(transaction)<br>  end</pre><pre name="6629" id="6629" class="graf graf--pre graf-after--pre">  def print_balance<br>    puts &#39;date || credit || debit || balance&#39;<br>    @transaction_history.each do |log|<br>      puts &quot;#{log.date} || #{log.credit} || #{log.debit} || #{log.balance}&quot;<br>    end<br>  end<br>end</pre><pre name="b489" id="b489" class="graf graf--pre graf-after--pre">class Transaction</pre><pre name="08fc" id="08fc" class="graf graf--pre graf-after--pre">  attr_accessor :date, :credit, :debit, :balance</pre><pre name="7c08" id="7c08" class="graf graf--pre graf-after--pre">  def initialize(date, credit, debit, balance)<br>    @date = date<br>    @credit = credit<br>    @debit = debit<br>    @balance = balance<br>  end<br>end</pre><p name="2c69" id="2c69" class="graf graf--p graf-after--pre">With every new Bank we create, we create an array (essentially a list) called transactions history that will hold our data stored in the Transaction class. Every time a deposit or a withdrawal happens, a new transaction is added to the array with the relevant information.</p><p name="b4f4" id="b4f4" class="graf graf--p graf-after--p">Our balance is always updated by having the deposit/withdrawal number add or deducting to it.</p><p name="42c2" id="42c2" class="graf graf--p graf-after--p">When we go for the printing of the balance, we look loop through each transaction in our transaction history array, and output all the relevant information.</p><p name="505e" id="505e" class="graf graf--p graf-after--p">Ok, so lets call our methods;</p><figure name="0786" id="0786" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 480px; max-height: 270px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="0*3l9VNJOoKESdYQmE.gif" data-width="480" data-height="270" src="https://cdn-images-1.medium.com/max/800/0*3l9VNJOoKESdYQmE.gif"></div></figure><pre name="9035" id="9035" class="graf graf--pre graf-after--figure">bank = Bank.new<br>bank.deposit(&quot;10/01/2012&quot;, 1000)<br>bank.deposit(&quot;13/01/2012&quot;, 2000)<br>bank.withdrawal(&quot;14/01/2012&quot;, 500)<br>bank.print_balance</pre><pre name="75a1" id="75a1" class="graf graf--pre graf-after--pre">pry(main)&gt; bank = Bank.new<br>=&gt; #&lt;Bank:0x007fca05119488<br> @balance=0,<br> @transaction_history=[]&gt;<br>bank.deposit(&quot;10/01/2012&quot;, 1000)<br>=&gt; [#&lt;Transaction:0x007fca050e9c60<br>  @balance=1000,<br>  @credit=1000,<br>  @date=&quot;10/01/2012&quot;,<br>  @debit=0&gt;]<br>bank.deposit(&quot;13/01/2012&quot;, 2000)<br>=&gt; [#&lt;Transaction:0x007fca050787e0<br>  @balance=3000,<br>  @credit=2000,<br>  @date=&quot;13/01/2012&quot;,<br>  @debit=0&gt;,<br>bank.withdrawal(&quot;14/01/2012&quot;, 500)<br>=&gt; [#&lt;Transaction:0x007fca0612c280<br>  @balance=2500,<br>  @credit=0,<br>  @date=&quot;14/01/2012&quot;,<br>  @debit=500&gt;,</pre><pre name="cf77" id="cf77" class="graf graf--pre graf-after--pre">bank.print_balance<br>date || credit || debit || balance<br>14/01/2012 || 0 || 500 || 2500<br>13/01/2012 || 2000 || 0 || 3000<br>10/01/2012 || 1000 || 0 || 1000</pre><p name="dde6" id="dde6" class="graf graf--p graf-after--pre">Seems like it works, but that’s not enough… this is actually low quality code!</p><h3 name="de46" id="de46" class="graf graf--h3 graf-after--p">QUALITY CONTROL</h3><p name="ba04" id="ba04" class="graf graf--p graf-after--h3">Extra software tools were given for us to try and pass them, to assure high quality code.</p><p name="5d60" id="5d60" class="graf graf--p graf-after--p">There are multiple things wrong with this code, so what are they?</p><p name="5652" id="5652" class="graf graf--p graf-after--p">Testing — Well yeah, there is no testing on this code whatsoever. Testing is super important as not only does it help you work out what is wrong with the code, but for refactoring (rearranging the code for improvement) it makes it much less confusing!</p><p name="9a96" id="9a96" class="graf graf--p graf-after--p">The quality of the tests are important too. Do they properly test what you set them out to do? A way of testing if the tests are solid are by either slightly changing them to see if they fail, or just adding things to the code that should make them fail.</p><p name="e396" id="e396" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Ruby Testing Tool — </em><a href="http://rspec.info/" data-href="http://rspec.info/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">RSpec</em></a></p><p name="f7e5" id="f7e5" class="graf graf--p graf-after--p">It is also important that the coverage is over 95%. This means that the tests you do, cover 95% or more of the code that is written.</p><p name="87eb" id="87eb" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Coverage Tool — </em><a href="https://github.com/colszowka/simplecov" data-href="https://github.com/colszowka/simplecov" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">SimpleCov</em></a></p><p name="315a" id="315a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Linting</strong> — This is looking at the formatting of the code and to see if it is consistent. This can be anything like the spacing of words, upper or lower casing, or even preferred coding conventions for a particular job of a bit of code. The lint checker Rubocop also has a feature to auto correct fails if its sure it doesn’t effect the function of the code.</p><p name="93f6" id="93f6" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Linter Tool — </em><a href="https://github.com/bbatsov/rubocop" data-href="https://github.com/bbatsov/rubocop" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">Rubocop</em></a></p><p name="8821" id="8821" class="graf graf--p graf-after--p">Inbalanced Classes — The main problem with the code above is that there are only two classes and that basically all the functionality is in one. It is important to spread of the responsibility of the code into multiple classes, with each class making it clear what its role is.</p><p name="e2aa" id="e2aa" class="graf graf--p graf-after--p">Having code spread out also makes it better for debugging, and it makes sure that the classes aren’t too reliant on each other, meaning if something broke then it shouldn’t effect to many things.</p><p name="6319" id="6319" class="graf graf--p graf-after--p">We used Flog to check our complexity (in terms of the structure), and aimed for a score of no higher then 15 for classes and no higher then 6 for each method.</p><p name="4291" id="4291" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Code Structure Assessment Tool — </em><a href="https://github.com/seattlerb/flog" data-href="https://github.com/seattlerb/flog" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">Flog</em></a></p><p name="0183" id="0183" class="graf graf--p graf-after--p">Extras — There are a lot of small things to do as well for good coding practice. Things like;</p><ul class="postList"><li name="9c9a" id="9c9a" class="graf graf--li graf-after--p">Methods should only have one sole function</li><li name="84f7" id="84f7" class="graf graf--li graf-after--li">Avoid Repetition “DRY” (Don’t Repeat Yourself)</li><li name="4ef5" id="4ef5" class="graf graf--li graf-after--li">Naming Conventions — Classes should be nouns, methods as verbs</li><li name="cdb5" id="cdb5" class="graf graf--li graf-after--li">Setting some methods to not be allowed to be accessible by the user, making them “private”</li></ul><p name="5501" id="5501" class="graf graf--p graf-after--li">It was also good practice to use Github with quality in mind;</p><ul class="postList"><li name="0965" id="0965" class="graf graf--li graf-after--p">Lots of commits!</li><li name="b218" id="b218" class="graf graf--li graf-after--li">Detailed descriptions on the commits.</li><li name="4ed1" id="4ed1" class="graf graf--li graf-after--li">A detailed Readme file.</li></ul><p name="97ac" id="97ac" class="graf graf--p graf-after--li">In the end, I managed to refactor <a href="https://github.com/puyanwei/bank-tech-test" data-href="https://github.com/puyanwei/bank-tech-test" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">my code</a> into 6 classes, linter passing and had 16 passing tests at 100% coverage! It was frustrating at times, but a great exercise none the less to making myself go back and rethink about how my code could be improved. I learned so much last week!</p><figure name="2429" id="2429" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 320px; max-height: 201px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 62.8%;"></div><img class="graf-image" data-image-id="0*sAxgt7LlOR6WV8TD.png" data-width="320" data-height="201" src="https://cdn-images-1.medium.com/max/800/0*sAxgt7LlOR6WV8TD.png"></div></figure><h3 name="cd1c" id="cd1c" class="graf graf--h3 graf-after--figure">THE END IN SIGHT</h3><p name="ee9e" id="ee9e" class="graf graf--p graf-after--h3">So we have two weeks left of the course and now I’m doing my final project. My group and I all had an interest to build a desktop app from scratch, and so we have been checking out and learning how to use Spectron. It seems like an amazing framework and has tons of potential for future projects.</p><p name="22bc" id="22bc" class="graf graf--p graf-after--p">More about that next week. I cant believe its nearly over!! I’m gonna be really sad… For now I’ll leave you guys with what should have definitely been our final project, an Augmented Reality Mario remake!</p><figure name="0c1b" id="0c1b" class="graf graf--figure graf--iframe graf-after--p graf--trailing"><iframe src="https://www.youtube.com/embed/RjJ44klc8zk?feature=oembed" width="700" height="393" frameborder="0" scrolling="no"></iframe></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@pyan" class="p-author h-card">Puyan Wei</a> on <a href="https://medium.com/p/c87252b59696"><time class="dt-published" datetime="2017-10-09T23:48:52.268Z">October 9, 2017</time></a>.</p><p><a href="https://medium.com/@pyan/makers-week-ten-top-quality-code-innit-c87252b59696" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 30, 2019.</p></footer></article></body></html>