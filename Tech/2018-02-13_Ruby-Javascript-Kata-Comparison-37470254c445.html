<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Ruby Javascript Kata Comparison</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Ruby Javascript Kata Comparison</h1>
</header>
<section data-field="subtitle" class="p-summary">
At my last interview, I was lacking some confidence in my Test Driven Development (TDD). This means that you write a test first to set out…
</section>
<section data-field="body" class="e-content">
<section name="c1e5" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="8127" id="8127" class="graf graf--h3 graf--leading graf--title">Ruby Javascript Kata Comparison</h3><p name="5edc" id="5edc" class="graf graf--p graf-after--h3">At my last interview, I was lacking some confidence in my Test Driven Development (TDD). This means that you write a test first to set out your intention, then test it, then it fails because the code doesn’t exist yet, then write the code and make it pass.</p><p name="e088" id="e088" class="graf graf--p graf-after--p">I have been practising this finding little puzzles via <a href="https://www.codewars.com/" data-href="https://www.codewars.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">codewars</a>. I had not touched codewars since the Makers Academy <a href="https://thep-log.blogspot.co.uk/2017/07/the-makers-academy-pre-course.html" data-href="https://thep-log.blogspot.co.uk/2017/07/the-makers-academy-pre-course.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">pre-course</a>. Hopefully now I would be a bit more knowledgable about them now?</p><p name="3619" id="3619" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">MOVIE CLERK</strong></p><p name="544d" id="544d" class="graf graf--p graf-after--p"><a href="https://www.codewars.com/kata/555615a77ebc7c2c8a0000b8/train/javascript" data-href="https://www.codewars.com/kata/555615a77ebc7c2c8a0000b8/train/javascript" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">The Kata</a> I wanna highlight is one I did last week in <a href="https://hackernoon.com/tagged/javascript" data-href="https://hackernoon.com/tagged/javascript" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Javascript</a>, and then paired with to do it in Ruby. So this should give you a nice look into comparing the two languages. I would say that I’m pretty proficient with both, but there’s always room for improvement, especially with refactoring and all that.</p><blockquote name="0e8a" id="0e8a" class="graf graf--blockquote graf-after--p">Vasya is currently working as a clerk. He wants to sell a ticket to every single person in this line. Each of them has a single 100, 50 or 25 dollars bill. A ticket costs 25 dollars.</blockquote><blockquote name="61ac" id="61ac" class="graf graf--blockquote graf-after--blockquote">Can Vasya sell a ticket to each person and give the change if he initially has no money and sells the tickets strictly in the order people follow in the line?</blockquote><blockquote name="ce2f" id="ce2f" class="graf graf--blockquote graf-after--blockquote">Return YES, if Vasya can sell a ticket to each person and give the change with the bills he has at hand at that moment. Otherwise return NO.</blockquote><blockquote name="1f2d" id="1f2d" class="graf graf--blockquote graf-after--blockquote">Examples;</blockquote><blockquote name="eaa6" id="eaa6" class="graf graf--blockquote graf-after--blockquote">tickets([25, 25, 50]) // =&gt; YES</blockquote><blockquote name="5691" id="5691" class="graf graf--blockquote graf-after--blockquote">tickets([25, 100]) // =&gt; NO</blockquote><p name="1cf5" id="1cf5" class="graf graf--p graf-after--blockquote">So in example 1, the first customer gives 25, then the 2nd, and the third guy gives 50 which needs 25 change, and there are two 25’s in the till. So that line can be completed so it returns YES.</p><p name="24d8" id="24d8" class="graf graf--p graf-after--p">In example 2, the first customer buys a ticket for 25, but then the 2nd tries to pay with a 100 bill, but there’s only one 25 in the bill so there’s not enough change so it returns NO.</p><figure name="e204" id="e204" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 400px; max-height: 254px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.5%;"></div><img class="graf-image" data-image-id="0*t7cFAmIad35XU5U0.jpg" data-width="400" data-height="254" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*t7cFAmIad35XU5U0.jpg"></div><figcaption class="imageCaption">Welcome to the world of just 25, 50, and 100 notes! Sounds great to me, being a fan light wallets.</figcaption></figure><p name="1df3" id="1df3" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">STEPS (IN JAVASCRIPT)</strong></p><p name="c1e8" id="c1e8" class="graf graf--p graf-after--p">The first thing to do is to break down the problem into smaller bitesize chunks so its easier to understand. Here’s the steps I kinda outlined in my planning;</p><ol class="postList"><li name="006e" id="006e" class="graf graf--li graf-after--p">We need to go through each number of the array (customer), and work out if it can give change or not.</li><li name="14e8" id="14e8" class="graf graf--li graf-after--li">If at any point of the queue any customer cannot get change return NO.</li><li name="1a5b" id="1a5b" class="graf graf--li graf-after--li">If they can get change, we must update the till depending on what note is given;</li></ol><ul class="postList"><li name="e356" id="e356" class="graf graf--li graf-after--li">25 note gets no change.</li><li name="2151" id="2151" class="graf graf--li graf-after--li">50 note gets 25 change.</li><li name="c1a6" id="c1a6" class="graf graf--li graf-after--li">100 note gets 75 change, which is one 50 and one 25 or three 25 notes.</li></ul><ol class="postList"><li name="b9a9" id="b9a9" class="graf graf--li graf-after--li">If all is well, and everyone gets the correct change, then return YES.</li></ol><p name="2faa" id="2faa" class="graf graf--p graf-after--li">I though a hash data structure would be best for this. This would be used to update the numbers of notes in the till;</p><figure name="37a4" id="37a4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 320px; max-height: 32px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 10%;"></div><img class="graf-image" data-image-id="0*lOKfXozhpbzXlHfs.png" data-width="320" data-height="32" src="https://cdn-images-1.medium.com/max/800/0*lOKfXozhpbzXlHfs.png"></div></figure><p name="6194" id="6194" class="graf graf--p graf-after--figure">Hashes work in key/value pairs separated by colons. So here the keys are 25, 50, and 100, and the values are zero. There are zero notes of each when a new bunch of customers line up.</p><p name="9d88" id="9d88" class="graf graf--p graf-after--p">Now we wanna make checks for if we can give change;</p><figure name="589a" id="589a" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 621px; max-height: 435px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 70%;"></div><img class="graf-image" data-image-id="0*h0mEHMZBbKkFE_oH.png" data-width="621" data-height="435" src="https://cdn-images-1.medium.com/max/800/0*h0mEHMZBbKkFE_oH.png"></div></figure><p name="73a7" id="73a7" class="graf graf--p graf-after--figure">Here is a function canMakeChange where you input 25, 50, or 100 and it looks at the till to see if it can make change.</p><p name="1171" id="1171" class="graf graf--p graf-after--p">For 25, there no change needed so its always true.</p><p name="e57d" id="e57d" class="graf graf--p graf-after--p">For 50, it needs 25 change always. Here “till[25]” is looking for the key pair of the 25 in the hash, and asking whether that number is above zero. If it is, there is change for a 50. We can edit the hash ourselves and run the <a href="https://hackernoon.com/tagged/code" data-href="https://hackernoon.com/tagged/code" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">code</a> to test whether this works. But in doing this process, I had written tests.</p><p name="26d6" id="26d6" class="graf graf--p graf-after--p">For 100, its a bit more complicated as there are two possible ways of giving change. You can give one 50 and one 25 or three 25 notes for 75 change. In the same way as before, it looks for various combinations of these notes in the hash till and returns true. In the code I have extracted it to another section so that its more readable. It is saying, if note inputted is 100, return true if the till has more then three 25s, OR (the two pipe symbols “||”) more then one 25 AND (the double ampersand “&amp;&amp;”) more then one 50 note.</p><p name="ba92" id="ba92" class="graf graf--p graf-after--p">Ok, so lets make our till update if change can be given, and it does. Our till will have money going in, and money going out back to the customer.</p><figure name="9976" id="9976" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 480px; max-height: 412px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 85.8%;"></div><img class="graf-image" data-image-id="0*G6iLaytTyD2E9_1p.png" data-width="480" data-height="412" src="https://cdn-images-1.medium.com/max/800/0*G6iLaytTyD2E9_1p.png"></div></figure><p name="d278" id="d278" class="graf graf--p graf-after--figure">So this function accepts an input number, and then updates the hash till. Note that ++ and — means adding or subtracting one to itself. This is such a common thing that Javascript has created this shortcut.</p><p name="b92d" id="b92d" class="graf graf--p graf-after--p">With 25, it adds 1 to the 25 hash. Meaning the till should be “hash = { 25:1, 50:0, 100:0 } if the till is empty before this input. Since there’s no change, no need to deduct any of the other notes.</p><p name="5633" id="5633" class="graf graf--p graf-after--p">With 50, it subtracts one 25 note, but adds another 50 note to the till.</p><p name="42b9" id="42b9" class="graf graf--p graf-after--p">With the 100 note, again its more complicated. We need to find out if the till has one 50 note and one 25 note, or three 25 notes. So here, we use the other functions we had created before to check it this is true and then update it appropriately. With one of each, we subtract a 25 and a 50 and add in a 100. With three 25s, we deduct three 25s only.</p><p name="f51e" id="f51e" class="graf graf--p graf-after--p">Finally, we link everything together in a more controller type function. This is when a function is used as more of a place which calls other functions, rather then us calling them separately.</p><figure name="8582" id="8582" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 585px; max-height: 241px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.199999999999996%;"></div><img class="graf-image" data-image-id="0*s4842Abl04kXj_si.png" data-width="585" data-height="241" src="https://cdn-images-1.medium.com/max/800/0*s4842Abl04kXj_si.png"></div></figure><p name="a09c" id="a09c" class="graf graf--p graf-after--figure">Here, we use a loop which goes through our list and applies it to each individual element, ie each customer’s payment. Var i = 0 is telling it to start the loop at the first element of the array, i &lt; array.length tells it to stop looping at the end of the list and i++ is telling it to go through elements (represented by array[i]) of the list one by one.</p><p name="a5f3" id="a5f3" class="graf graf--p graf-after--p">For each cycle, it we input the element into our canMakeChange function and if it is true, then giveChange and update the till. With if statements, if we are asking if something is true, we don’t have to explicitly state it. For example, if(true ===true) can be written out as just if(true).</p><p name="f90c" id="f90c" class="graf graf--p graf-after--p">If it cannot make change, then return NO. If it manages to complete the loop with all the change given return YES. Once we return something in Javascript, it breaks out of the function meaning that the code stops there if there is anymore.</p><figure name="4a3c" id="4a3c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 608px; max-height: 502px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 82.6%;"></div><img class="graf-image" data-image-id="0*Gq9F-M2Zuhl3LqKG.png" data-width="608" data-height="502" src="https://cdn-images-1.medium.com/max/800/0*Gq9F-M2Zuhl3LqKG.png"></div><figcaption class="imageCaption">Some tests to practice my TDD and also keep an eye on my code working</figcaption></figure><p name="fa56" id="fa56" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">READABLE RUBY</strong></p><p name="5c94" id="5c94" class="graf graf--p graf-after--p">Here is the comparisons between Ruby and Javascript. Here we call the function sell to initiate it.</p><figure name="b202" id="b202" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 580px; max-height: 961px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 165.7%;"></div><img class="graf-image" data-image-id="0*8lcv-8H8MkcD2ziB.png" data-width="580" data-height="961" src="https://cdn-images-1.medium.com/max/800/0*8lcv-8H8MkcD2ziB.png"></div><figcaption class="imageCaption">Javascript Version</figcaption></figure><figure name="7fc3" id="7fc3" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 648px; max-height: 928px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 143.2%;"></div><img class="graf-image" data-image-id="0*L-o_docckjd1Cgam.png" data-width="648" data-height="928" src="https://cdn-images-1.medium.com/max/800/0*L-o_docckjd1Cgam.png"></div><figcaption class="imageCaption">Ruby Version, with case conditional</figcaption></figure><p name="a7c6" id="a7c6" class="graf graf--p graf-after--figure">I really like the code in Ruby, it seems so much more readable. There are some really nice things like; functions with question marks returns true or false, loops are shorter, and the last lines are explicitly returned, it reads very nicely like it reveals its intention of what its trying to do.</p><p name="4551" id="4551" class="graf graf--p graf-after--p">There are also a lot of in built functions in Ruby which shortcuts a lot of common tasks. For example [string].reverse will reverse a string (duuh) but in Javascript you have to manually write the way of doing it, which means more lines of code.</p><p name="327d" id="327d" class="graf graf--p graf-after--p">A lot of the problems I had with writing the Javascript code involved remembering that all the functions needed to return something, since if you don’t do it just doesn’t know what to do and you get an unexpected undefined outcome!</p><p name="59ca" id="59ca" class="graf graf--p graf-after--p">I also tried to use a forEach loop in Javascript before finding out you couldn’t break out of it when a condition was met. Javascript also has an inordinate amount of brackets and curly brackets all over the place, which increases the chances of typos.</p><p name="197d" id="197d" class="graf graf--p graf-after--p">That being said, I have been mainly focusing on Javascript a lot. I find that it is quite flexible to use with the web, you literally can write some code in your HTML file, or even try some out in the sandbox console if you Alt + Apple + I it!</p><figure name="5e01" id="5e01" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 486px; max-height: 261px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.7%;"></div><img class="graf-image" data-image-id="0*muUt4wmpUHuntBce.png" data-width="486" data-height="261" src="https://cdn-images-1.medium.com/max/800/0*muUt4wmpUHuntBce.png"></div><figcaption class="imageCaption">Going to View/Developer/Developer Tools in Chrome (or Alt + Apple + I) opens the console where you can play around with Javascript</figcaption></figure><p name="7c26" id="7c26" class="graf graf--p graf-after--figure">It has been an interesting challenge trying to explain things like this in the most simplest form, hopefully that all makes sense! The code could be refactored (edited) to make it better, but for now I’ll leave that to another post. I’m sure many expert readers can see some inefficiencies and (gulp) some mistakes? Hopefully not.</p><p name="39c2" id="39c2" class="graf graf--p graf-after--p">I dunno how many of you non coders will be able to understand this but I tried my best…</p><p name="3b51" id="3b51" class="graf graf--p graf-after--p">Github version <a href="https://github.com/puyanwei/ticket-clerk" data-href="https://github.com/puyanwei/ticket-clerk" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><p name="e38a" id="e38a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">ITS DEFINITELY PERSONAL, BUT STILL BUSINESS</strong></p><p name="1ace" id="1ace" class="graf graf--p graf-after--p">The job-hunt as been real. The rejections have been tough. But through each interview I learn more, more about myself and more about the process.</p><p name="cdb3" id="cdb3" class="graf graf--p graf-after--p">Throughout Makers I’ve been hearing things from two camps, the “Get [Almost] Any Job” camp where after you get one year’s experience your super employable, and the “Go For The Jobs You Really Want” camp.</p><p name="873a" id="873a" class="graf graf--p graf-after--p">In the end I think it kinda of depends on the person, and their goals. People have different aims and personalities, some are able to grind out any job for a while, where as others really need to feel the love for where they work.</p><p name="5ac6" id="5ac6" class="graf graf--p graf-after--p">Its rough as I feel I’ve put my all into this process and yet still come up short. There’s no doubt that I’ve been making mistakes in my interviews, namely saying stupid shit due to being nervous or whatever.</p><p name="bd7a" id="bd7a" class="graf graf--p graf-after--p">Its becoming clearer to me that impressions count for a lot. If they like you, and see the potential that they can get along with you in a team, then almost other things don’t matter as much. I hate that phrase, “Its not personal, its business”, which implies that business and personality are separate things. It couldn’t be further from the truth, business is all about who you get along with, the networks you create, the deals that you do.</p><p name="bff6" id="bff6" class="graf graf--p graf-after--p">Maybe this is a phrase commonly used during firings, especially when a company needs to do some cutbacks. But even then, it couldn’t be more personal, certain workers are preferred over others.</p><p name="7f51" id="7f51" class="graf graf--p graf-after--p">Anyways, gonna keep trying. Its hard when so many others get jobs and you try to not instinctively compare.</p><figure name="d430" id="d430" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 383px; max-height: 480px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 125.29999999999998%;"></div><img class="graf-image" data-image-id="0*0AYBdGJTFipCrJpd.gif" data-width="383" data-height="480" src="https://cdn-images-1.medium.com/max/800/0*0AYBdGJTFipCrJpd.gif"></div><figcaption class="imageCaption">How many kids thought this could be their dream job? :D</figcaption></figure><figure name="8c13" id="8c13" class="graf graf--figure graf--iframe graf-after--figure graf--trailing"><iframe src="https://upscri.be/dde502?as_embed=true" width="700" height="350" frameborder="0" scrolling="no"></iframe></figure></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@pyan" class="p-author h-card">Puyan Wei</a> on <a href="https://medium.com/p/37470254c445"><time class="dt-published" datetime="2018-02-13T16:38:57.872Z">February 13, 2018</time></a>.</p><p><a href="https://medium.com/@pyan/ruby-javascript-kata-comparison-37470254c445" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on September 30, 2019.</p></footer></article></body></html>